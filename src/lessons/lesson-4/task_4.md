# Занятие №4

## Формы

### Задание № 1

Использовать форму добавления преподавателя и при клике на "Пригласить" прятать
форму и добавлять преподавателя в колекцию.

В `TutorsBlock`:

- в состояние `TutorsBlock` добавляем поле `tutors`, которое инициализируется из
  пропа `tutors`
- пишем метод `addTutor(newTutor)`, который получает объект с новым
  преподавателем, добавляет его в массив `tutors` и прячет форму
- передаем этот метод пропсом `onSubmit` в `TutorForm`

В `TutorForm`:

- в форме-классе с одним пропом `onSubmit` создаем стейт с изначальным
  состоянием каждого инпута `""`, а для чекбокса `isFullTime` - `false`
- пишем универсальный метод `handleChange` для измненения состояния по событию в
  инпут и передаем его обработчиком в `onChange` каждого инпута
- пишем метод `handleSubmit`, в котором вызываем метод `this.props.onSubmit`,
  передавая ему текущее состояние и очищаем форму
- очистку формы вынесем в отдельный метод `reset` (использовать `INITIAL_STATE`)
- используем метод `handleSubmit` как обработчик события сабмит на форме
- в методе render деструктурируем все поля стейта и передаем их как значения
  инпутов в поле `value`
- в методе render создаем переменую `isAddBtnDisabled`, которая будет служить
  значением поля `disabled` в `BigButton`, значение переменной будет `true`,
  если хоть одно поле формы будет незаполнено, если значение не буль
- для генерации id для элементов формы используем
  ([nanoid](https://www.npmjs.com/package/nanoid))

### Задание № 2

Использовать модалку для удаление города, которая появляется при клике на
"Удалить":

- Компонент `Modal` ожидает метод для закрытия и детей для рендера
- Компонент `DeleteCard` содержит две кнопки - да и нет, и ожидает текст, метод
  для удаления и метод для закрытия
- в `CitiesBlock` добавляем состояние `isDeleteModalOpen` и `actionCity`
- пишем метод `handleStartDeleting(actionCity)`, который устанавливает активный
  город и открывает модалку для удаления
- пишем метод `deleteCity()`, который удаляет из массива имя активного города и
  очищает поле `actionCity`, а также вызывает метод `closeDeleteModal`
- написать метод по закрытию модалки для удаления `closeDeleteModal`

### Задание № 3

Использовать модалку для редактирования города, которая появляется при клике на
"Редактировать"

- Компонент `EditCard` содержит форму и принимает метод для сохранения, а также
  начальное значение инпута
- В `EditCard` в состоянии - значение инпута
- есть методы `handleChange` и `handleSubmit`
- для генерации id для элементов формы используем
  ([nanoid](https://www.npmjs.com/package/nanoid))

- в `CitiesBlock` добавляем состояние `isEditModalOpen`
- пишем метод `handleStartEditting(actionCity)`, который устанавливает активный
  город и открывает модалку для редактирования
- пишем метод `saveEditedCity(editedCity)`, который изменяет в массиве имя
  активного города и очищает поле `actionCity`, а также вызывает метод
  `closeEditModal`
- написать метод по закрытию модалки для редактирования `closeEditModal`
- рендерим модальное окно по состоянию поля `isEditModalOpen`

### Задание № 4

Добавить фильтр для городов

- создаем универсальный компонет `Filter`, который ожидает значение инпута и
  метод для onChange инпута
- в `CitiesBlock` добавляем состояние `filter`
- пишем метод `handleFilterChange(value)`, который изменяет значение поле
  `filter` в стейте
- пишем метод `getFilteredCities`, который возвращает массив отфильтрованных
  городов в зависимости от значения фильтра
- именно отфильтрованный массив будем передавать в пропе `items` в `ItemsList`

### Задание № 5

Недопустить дублирование городов при добавлении нового города

////////////////////////////////////////////////////////////////////////

<!--





































 -->

# Занятие №3

## События и состояние

### Задание №1

Добавить обработчик на кнопки

- Добавить преподавателя
- Добавить город
- Добавить факультет

При клике на "Добавить преподавателя" показывать или прятать форму добавления
преподавателя:

- переписываем `TutorsBlock` на класс
- в состоянии одно свойство - `isFormOpen`
- рендерим форму в зависимости от состояния `isFormOpen`
- пишем метод `toggleForm` и передаем его пропсом onClick в `BigButton`
- также в эту кнопку передаем текст по условию (если форма открыта текст
  меняется на `'Отменить добавление'`)
- иконку тоже передаем только если форма закрыта (для этого изменяем пропТайп на
  иконке в кнопке на `PropTypes.oneOfType([PropTypes.string, PropTypes.bool])`,)

При клике на "Добавить город" показывать или прятать форму добавления города

При клике на "Добавить факультет" показывать или прятать форму добавления
факультета

Используем стейт в классах

### Задание №2

Навешать обработчик на ... и показывать список операций "Удалить"
"Редактировать" Используем стейт в классах

- в компоненте `CardWithMenu` создаем стейт со свойством `isMenuOpen`
- пишем метод `toggleMenu` и вешаем его обработчиком события на кнопочку
- рендерим меню в зависимости от состояния `isMenuOpen`

### Задание №3

Сделать уделение факультета и города при клике на "Удалить"

- в состояние `CitiesBlock` добавляем поле `cities`, которое инициализируется из
  пропа `cities`
- пишем метод `handleDeleteCity(cityToDelete)`, который удалит город из массива
  `cities`
- передаем этот метод пропсом `onDeleteItem` в `ItemsList`
- из `ItemsList` передаем пропс `onDelete` в `CardWithMenu` в виде анонимной
  функции, в которой вызывается проп `onDeleteItem` и ему передается имя айтема
- в `CardWithMenu` принимаем новый проп `onDelete` и пишем метод `handleDelete`,
  в котором вызываем переданный проп и тоглим меню
- используем `handleDelete` как обработчик клика по диву

### Задание №4

Реализовать закрытие/открытие `Sidebar` по клику по кнопке

- переписываем `Sidebar` на класс
- в состоянии одно свойство - `isOpen`
- пишем метод `toggleSidebar` и вешаем его обработчиком события на кнопочку

# Занятие №4

## Формы

### Задание №1

Создать форму добавления преподавателя и при клике на "Пригласить" прятать форму
и добавлять преподавателя в колекцию

- в состояние `TutorsBlock` добавляем поле `tutors`, которое инициализируется из
  пропа `tutors`
- пишем метод `addTutor(newTutor)`, который получает объект с новым
  преподавателем и добавляет его в массив `tutors`
- передаем этот метод пропсом `onSubmit` в `TutorForm`
- в форме-классе с одним пропом onSubmit создаем стейт с изначальным состоянием
  каждого инпута ("")
- пишем универсальный метод `handleChange` для измненения состояния по событию в
  инпут и передаем его обработчиком в onChange каждого инпута
- пишем метод `handleSubmit`, в котором вызываем метод `this.props.onSubmit`,
  передавая ему текущее состояние и очищаем форму
- очистку формы вынесем в отдельный метод `reset` (использовать `INITIAL_STATE`)
- в методе render деструктурируем все поля стейта и передаем их как значения
  инпутов в поле value
- в методе render создаем переменую isAddBtnDisabled, которая будет служить
  значение поля disabled в BigButton, значение переменной будет true, только
  если все поля формы будут заполнены

### Задание №2

Создать форму добавления города и филиала и при клике на кнопку "Создать"
прятать форму и добавлять факультет/город в колекцию

- в состояние `CitiesBlock` пишем метод `addCity(city)`, который получит из
  AddForm имя нового города и добавит его в массив

### Задание №3

Создать модалку на редактирование города/факультета которая появляется при клике
на "Редактировать"

- Создаем компонент Modal, который будет ожидать метод для закрытия и детей для
  рендера
- Создаем карточку для редактирования, которая будет сожержать форму и принимать
  метод для сохранения, а также начальное значение инпута
- В карточке в состоянии - значение инпута
- есть методы handleChange и handleSubmit
- также есть генерация id для элементов формы
  ([nanoid](https://www.npmjs.com/package/nanoid))
- в CitiesBlock добавляем состояние isEditModalOpen и actionCity
- пишем метод handleEditCity(actionCity), который устанавливает активный город и
  открывает модалку для редактирования
- пишем метод editCity(changedCity), который изменяет в массиве имя активного
  города и очищает поле actionCity, а также вызывает метод closeEditModal
- написать метод по закрытию модалки для редактирования closeEditModal

### Задание №4

Создать модалку на удаление города/факультета которая появляется при клике на
"Удалить"

- Создаем карточку для удаления, которая будет сожержать две кнопки - да и нет,
  и будет ожидать текст, метод для удаления и метод для закрытия
- в CitiesBlock добавляем состояние isDeleteModalOpen и actionCity
- пишем метод handleDeleteCity(actionCity), который устанавливает активный город
  и открывает модалку для удаления
- пишем метод deleteCity(), который удаляет из массива имя активного города и
  очищает поле actionCity, а также вызывает метод closeDeleteModal
- написать метод по закрытию модалки для удаления closeDeleteModal

### Задание №5

Добавить фильтр для городов

- создаем универсальный компонет Filter, который ожидает значение инпута и метод
  для его удаления и содержит инпут
- в CitiesBlock добавляем состояние filter
- пишем метод handleFilterChange(value), который изменяет значение поля filter в
  стейте
- пишем метод getFilteredCities, который возвращает массив отфильтрованных
  городов в зависимости от значения фильтра
- именно отфильтрованный массив будем передавать в пропе items в ItemsList
